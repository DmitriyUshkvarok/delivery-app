{"version":3,"file":"static/js/930.a70c3c2f.chunk.js","mappings":"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","sources":["Pages/BasketPage/BasketPage.styled.js","Pages/BasketPage/BasketPage.jsx","components/Container/Container.styled.js","components/Container/Container.jsx","components/Navigation/Navigation.styled.js","components/Navigation/Navigation.jsx","components/Header/Header.styled.js","components/Header/Header.jsx","firebase/config.js"],"sourcesContent":["import styled from 'styled-components';\nimport { IoChevronBackCircleSharp } from 'react-icons/io5';\nimport { TiDelete } from 'react-icons/ti';\n\nexport const StyleIoChevronBackCircleSharp = styled(IoChevronBackCircleSharp)`\n  color: aqua;\n\n  &:hover {\n    color: var(--hover-color-text);\n  }\n`;\n\nexport const ButtonBack = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 20px;\n  border-radius: var(--border-radius);\n  background-color: var(--hover-color-text);\n  border: none;\n  cursor: pointer;\n  transition: background-color var(--transition);\n  box-shadow: var(--box-shadow-header);\n\n  &:hover {\n    background-color: gold;\n\n    > ${StyleIoChevronBackCircleSharp} {\n      color: var(--hover-color-text);\n    }\n  }\n`;\n\nexport const BasketPageTitle = styled.h2`\n  margin-top: 110px;\n  margin-bottom: 30px;\n  display: flex;\n  justify-content: center;\n  color: var(--color-title);\n  text-shadow: var(--text-shadow);\n`;\n\nexport const BasketPageSubTitle = styled.h3`\n  color: var(--color-title);\n  text-shadow: var(--text-shadow);\n`;\n\nexport const NoProducts = styled.p`\n  color: var(--color-title);\n  text-shadow: var(--text-shadow);\n  text-align: center;\n  font-weight: bold;\n  font-size: 30px;\n`;\n\nexport const BasketPageList = styled.ul`\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-start;\n  gap: 20px;\n  margin-top: 30px;\n`;\n\nexport const BasketPageItem = styled.li`\n  position: relative;\n  display: flex;\n  align-items: center;\n  gap: 5px;\n  width: 100%;\n  max-width: 500px;\n  height: 100px;\n  box-shadow: var(--box-shadow-header);\n  border-radius: var(--border-radius);\n  padding: 5px;\n`;\n\nexport const BasketPageItemImg = styled.img`\n  max-width: 100px;\n  height: 100%;\n  object-fit: cover;\n  border-radius: var(--border-radius);\n`;\n\nexport const BasketPageItemName = styled.p`\n  font-size: 14px;\n  font-weight: 700;\n  color: gold;\n  text-shadow: var(--text-shadow);\n`;\n\nexport const BasketPageItemPrice = styled.span`\n  font-size: 14px;\n  font-weight: 700;\n  color: aqua;\n  text-shadow: var(--text-shadow);\n`;\n\nexport const StyledTiDelete = styled(TiDelete)`\n  color: red;\n  width: 30px;\n  height: 30px;\n\n  &:hover {\n    color: var(aqua);\n  }\n`;\n\nexport const BtnDeletedProduct = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  background-color: aqua;\n  border-radius: 50%;\n  border: none;\n  cursor: pointer;\n  box-shadow: var(--box-shadow-header);\n  width: 30px;\n  height: 30px;\n  transition: var(--transition);\n\n  &:hover {\n    background-color: gold;\n\n    > ${StyledTiDelete} {\n      color: aqua;\n    }\n  }\n`;\n","import { useEffect, useState } from 'react';\nimport { firestore } from '../../firebase/config';\nimport { collection, getDocs, doc, deleteDoc } from 'firebase/firestore';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport Container from 'components/Container/Container';\nimport Header from 'components/Header/Header';\nimport {\n  ButtonBack,\n  StyleIoChevronBackCircleSharp,\n  BasketPageTitle,\n  BasketPageSubTitle,\n  NoProducts,\n  BasketPageList,\n  BasketPageItem,\n  BasketPageItemName,\n  BasketPageItemPrice,\n  BasketPageItemImg,\n  BtnDeletedProduct,\n  StyledTiDelete,\n} from './BasketPage.styled';\n\nconst BasketPage = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        setLoading(true);\n        const querySnapshot = await getDocs(collection(firestore, 'products'));\n        const fetchedProducts = querySnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n        setProducts(fetchedProducts);\n        updateTotalPrice(fetchedProducts);\n      } catch (error) {\n        console.error('Error fetching products:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchProducts();\n  }, []);\n\n  const updateTotalPrice = productsList => {\n    const total = productsList.reduce((acc, product) => acc + product.price, 0);\n    setTotalPrice(total);\n  };\n\n  const handleBackPage = () => {\n    navigate(-1);\n  };\n\n  const deleteProductFromDb = async itemId => {\n    console.log(itemId);\n    try {\n      const productDoc = doc(firestore, 'products', itemId);\n      await deleteDoc(productDoc);\n      toast.success('Product deleted successfully');\n\n      setProducts(prevProducts =>\n        prevProducts.filter(product => product.id !== itemId)\n      );\n      updateTotalPrice(products.filter(product => product.id !== itemId));\n      localStorage.removeItem('selectedItems');\n    } catch (error) {\n      toast.error('Error deleting product from Firestore');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <Header />\n      <Container>\n        <BasketPageTitle>Shopping cart</BasketPageTitle>\n        <Link onClick={handleBackPage}>\n          <ButtonBack>\n            <StyleIoChevronBackCircleSharp size={30} />\n          </ButtonBack>\n        </Link>\n        {loading ? (\n          <div>Loading...</div> // Показать индикатор загрузки или блокировать элементы\n        ) : (\n          <>\n            <BasketPageSubTitle>\n              Total price: ${totalPrice.toFixed(1)}\n            </BasketPageSubTitle>\n            {products.length === 0 ? (\n              <NoProducts>No products found.</NoProducts>\n            ) : (\n              <BasketPageList>\n                {products.map(product => (\n                  <BasketPageItem key={product.id}>\n                    <BasketPageItemImg src={product.image} alt={product.name} />\n                    <BasketPageItemName>\n                      name: {product.name}\n                    </BasketPageItemName>\n                    <BasketPageItemPrice>\n                      price: ${product.price}\n                    </BasketPageItemPrice>\n                    <BtnDeletedProduct\n                      onClick={() => deleteProductFromDb(product.id)}\n                    >\n                      <StyledTiDelete />\n                    </BtnDeletedProduct>\n                  </BasketPageItem>\n                ))}\n              </BasketPageList>\n            )}\n          </>\n        )}\n      </Container>\n    </>\n  );\n};\n\nexport default BasketPage;\n","import styled from 'styled-components';\n\nexport const StyleContainer = styled.div`\n  max-width: 1200px;\n  margin-left: auto;\n  margin-right: auto;\n  padding-left: 10px;\n  padding-right: 10px;\n`;\n","import React from 'react';\nimport { StyleContainer } from './Container.styled';\n\nconst Container = ({ children }) => {\n  return <StyleContainer>{children}</StyleContainer>;\n};\n\nexport default Container;\n","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const StyleNavigation = styled.nav`\n  width: 100%;\n  display: flex;\n`;\n\nexport const NavigationList = styled.ul`\n  width: 100%;\n  max-width: 300px;\n  display: flex;\n  gap: 25px;\n`;\n\nexport const NavigationItem = styled.li`\n  cursor: pointer;\n`;\n\nexport const StyleNavLink = styled(NavLink)`\n  fill: var(--color-icon);\n  color: var(--color-icon);\n  transition: color var(--transition);\n\n  &:hover {\n    color: var(--hover-color-text);\n  }\n\n  &.active {\n    color: gold;\n  }\n`;\n","import Container from 'components/Container/Container';\nimport { AiFillHome } from 'react-icons/ai';\nimport { RiShoppingBasketFill } from 'react-icons/ri';\n\nimport {\n  StyleNavigation,\n  NavigationList,\n  NavigationItem,\n  StyleNavLink,\n} from './Navigation.styled';\n\nconst Navigation = () => {\n  return (\n    <Container>\n      <StyleNavigation>\n        <NavigationList>\n          <StyleNavLink to=\"/\">\n            <NavigationItem>\n              <AiFillHome size={50} />\n            </NavigationItem>\n          </StyleNavLink>\n          <StyleNavLink to=\"/basket-products\">\n            <NavigationItem>\n              <RiShoppingBasketFill size={50} />\n            </NavigationItem>\n          </StyleNavLink>\n        </NavigationList>\n      </StyleNavigation>\n    </Container>\n  );\n};\n\nexport default Navigation;\n","import styled from 'styled-components';\nimport { GiFullPizza } from 'react-icons/gi';\n\nexport const LogoContainer = styled.div`\n  margin-left: 30px;\n`;\n\nexport const StyleGiFullPizza = styled(GiFullPizza)`\n  color: gold;\n  animation: rotate 5s infinite linear;\n  -webkit-animation: rotate 5s infinite linear;\n\n  @keyframes rotate {\n    from {\n      transform: rotate(0deg);\n    }\n\n    to {\n      transform: rotate(360deg);\n    }\n  }\n`;\n\nexport const StyleHeader = styled.header`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 5;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 80px;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  background-image: var(--background-header);\n  box-shadow: var(--box-shadow-header);\n`;\n\nexport const NavigationContainer = styled.div`\n  margin-left: auto;\n  margin-right: 40px;\n`;\n","import Navigation from 'components/Navigation/Navigation';\nimport {\n  StyleHeader,\n  NavigationContainer,\n  LogoContainer,\n  StyleGiFullPizza,\n} from './Header.styled';\n\nconst Header = () => {\n  return (\n    <StyleHeader>\n      <LogoContainer>\n        <StyleGiFullPizza size={50}></StyleGiFullPizza>\n      </LogoContainer>\n      <NavigationContainer>\n        <Navigation />\n      </NavigationContainer>\n    </StyleHeader>\n  );\n};\n\nexport default Header;\n","import { initializeApp } from '@firebase/app';\nimport { getStorage } from 'firebase/storage';\nimport { getFirestore } from 'firebase/firestore';\nimport { getAuth } from 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyCpXY9Uqnhz83ego69MeTN9EYgL1QOh2kM',\n  authDomain: 'delivery-app-b3d9f.firebaseapp.com',\n  projectId: 'delivery-app-b3d9f',\n  storageBucket: 'delivery-app-b3d9f.appspot.com',\n  messagingSenderId: '423111518802',\n  appId: '1:423111518802:web:3b5f5b7a5794da46950d8b',\n  databaseURL: 'https://delivery-app-b3d9f.firebaseio.com',\n};\n\nexport const app = initializeApp(firebaseConfig);\nexport const firestore = getFirestore(app);\nexport const storage = getStorage(app);\nexport const auth = getAuth(app);\n"],"names":["StyleIoChevronBackCircleSharp","styled","IoChevronBackCircleSharp","ButtonBack","BasketPageTitle","BasketPageSubTitle","NoProducts","BasketPageList","BasketPageItem","BasketPageItemImg","BasketPageItemName","BasketPageItemPrice","StyledTiDelete","TiDelete","BtnDeletedProduct","useState","products","setProducts","loading","setLoading","totalPrice","setTotalPrice","navigate","useNavigate","useEffect","fetchProducts","getDocs","collection","firestore","querySnapshot","fetchedProducts","docs","map","doc","id","data","updateTotalPrice","console","error","productsList","total","reduce","acc","product","price","deleteProductFromDb","itemId","log","productDoc","deleteDoc","toast","prevProducts","filter","localStorage","removeItem","Header","Container","onClick","size","toFixed","length","src","image","alt","name","StyleContainer","children","StyleNavigation","NavigationList","NavigationItem","StyleNavLink","NavLink","to","LogoContainer","StyleGiFullPizza","GiFullPizza","StyleHeader","NavigationContainer","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","databaseURL","getFirestore","getStorage","getAuth"],"sourceRoot":""}